include:
  - docassemble.AssemblyLine:al_package.yml
  - docassemble.MassAccess:massaccess.yml
---
comment: |
  The metadata section controls the tab title and saved interview title. You can delete this section if you include this YAML file in another YAML file.
metadata:
  title: |
    Motion to Reconsider
  short title: |
    Motion to Reconsider
---
comment: |
  This section is used by AssemblyLine to control how some of the questions work.
mandatory: True
code: |
  interview_metadata # make sure we initialize the object
  if not defined("interview_metadata['Motion_to_Reconsider_Template']"):
    interview_metadata.initializeObject('Motion_to_Reconsider_Template')
  interview_metadata['Motion_to_Reconsider_Template'].update({
    'title': 'Motion to reconsider template',
    'short title': 'Motion to reconsider template',
    'description': 'Motion to reconsider template',
    'original_form': '',
    'allowed courts': [
      "Boston Municipal Court",
      "District Court",
      "Superior Court",
      "Housing Court",
      "Probate and Family Court",
      "Juvenile Court",
      "Land Court"
    ],
    'categories': [
    ],
    'logic block variable': 'Motion_to_Reconsider_Template',
    'attachment block variable': 'Motion_to_Reconsider_Template_attachment',
    'typical role': 'unknown',
  })
---
code: |
  interview_short_title = 'File a Motion to Reconsider'
---
code: |
  al_form_type = 'appeal'
---
features:
  navigation: True
---
sections:
  - review_Motion_to_Reconsider_Template: Review your answers
---
objects:
  - users: ALPeopleList.using(there_are_any=True)
  - points_for_motion: DAList.using(object_type=DAObject, complete_attribute="complete", there_are_any=True)
---
code: |
  points_for_motion[i].title
  points_for_motion[i].reason
  points_for_motion[i].kind
  points_for_motion[i].explanation
  points_for_motion[i].complete=True
---
question: |
  Is there anything else wrong in the decision you want to tell us?
subquestion: |
  You already told us about:
  
  % for point in points_for_motion.complete_elements():
  * ${ point.title }
  % endfor
yesno: points_for_motion.there_is_another
---
question: |
  Tell us about the ${ ordinal(i) } point you want to make
# break into different questions
fields: 
  - title: points_for_motion[i].title
  - reason: points_for_motion[i].reason
  - kind: points_for_motion[i].kind
    choices: 
      - reconsideration: reconsider
      - modification: modify
  - explanation:  points_for_motion[i].explanation
    datatype: area
---
mandatory: True
id: main_order_Motion_to_Reconsider_Template
code: |
  # Controls the flow of the basic building blocks of the
  # interview. To use this interview in another interview
  # delete the `mandatory: True` specifier or this whole block.
  al_intro_screen  # Organization intro screen/splash screen
  # Introduction to this specific interview
  Motion_to_Reconsider_Template_intro
  # Trigger the whole interview order block to control question order
  interview_order_Motion_to_Reconsider_Template
  signature_date
  # Save (anonymized) interview statistics.
  store_variables_snapshot(data={'zip': users[0].address.zip})
  Motion_to_Reconsider_Template_preview_question  # Pre-canned preview screen
  basic_questions_signature_flow
  users[0].signature
  Motion_to_Reconsider_Template_download
---
id: interview_order_Motion_to_Reconsider_Template
code: |
  # This is a placeholder to control order of questions in this interview
  # Set the allowed courts for this interview
  allowed_courts = interview_metadata["Motion_to_Reconsider_Template"]["allowed courts"]
  nav.set_section('review_Motion_to_Reconsider_Template')
  # Below sets the user_role by asking a question.
  # You can set user_role directly instead to either 'plaintiff' or 'defendant'
  user_ask_role
  other_parties.there_are_any = True 
  
  plaintiffs.gather()
  plaintiffs[0].address.address
  
  defendants.gather()
  defendants[0].address.address
  
  trial_court
  trial_court_docket_number
  appeals_court_docket_number
  
  points_for_motion.gather()
  
  if motion_for == "reconsider":
    reconsider_point
    explanation
    
  if motion_for == "modify":
    modify_point
    explanation
  
  if motion_for == "reconsider_and_modify":
    reconsider_and_modify_point
    explanation
    
  set_progress(12.5)
  method_of_service
  parties_to_be_served
  service_date
  
  # Set the answer file name.
  set_parts(subtitle=str(users))
 
  set_progress(25.0)
  interview_order_Motion_to_Reconsider_Template = True
---
comment: |
  This question is used to introduce your interview. Please customize
id: Motion to reconsider template
continue button field: Motion_to_Reconsider_Template_intro
question: |
  Motion to Reconsider
subquestion: |
  TO DO
---
id: Review your form before you sign it
continue button field: Motion_to_Reconsider_Template_preview_question
question: |
  Review your form before you sign it
subquestion: |
  Here is a preview of the form you'll sign on the next page. 
  
   ${ al_user_bundle.as_pdf(key='preview') }
  
  Remember to come back to this window to continue and sign your form.
---
id: trial court docket number
question: |
  What is the **Trial Court** docket number for your case?
fields:
  - 'no label': trial_court_docket_number
---
id: appeals court docket number
question: |
  What is the **Appeals Court** docket number for your case?
fields:
  - 'no label': appeals_court_docket_number
---
id: motion for
question: |
  Are you asking the Appeals Court to reconsider and/or modify its decision in your case?
subquestion: | 
  If you are asking the Court to reverse or otherwise change the outcome of your appeal, **that is a request to reconsider.**  
  
  If you are asking that an inaccuracy in the decision be corrected but the outcome to remain the same, **that is a request to modify.**
fields: 
  - no label: motion_for 
    datatype: radio
    choices:
      - I am seeking reconsideration of the decision: reconsider
      - I am seeking modification of the decision: modify
      - I am seeking reconsideration and modification of the decision: reconsider_and_modify
---
id: motion for reconsideration
question: |
  Please describe, in detail, point that you are asking the court to reconsider. 
subquestion: | 
  For example, if you believed that the decision cited to a case that is inapplicable to your case, you would enter:  I am asking the court to reconsider applying the holding of Jane Doe v. John Doe, 123 Mass. 456 (2021) to this case.
fields:
  - no label: reconsider_point
    input type: area
    rows: 6
---
id: motion for modification
question: |
  Please describe in detail what you are asking the court to modify in its decision.
subquestion: | 
  For example, if the decision states that the complaint was filed on January 2, but it was really filed on December 31, you would enter: I am asking the court to modify its decision by changing the date in the first paragraph on page 2 from "January 2" to "December 31".
fields:
  - no label: modify_point
    input type: area
    rows: 6
---
id: motion for reconsideration and modification
question: |
  TODO
subquestion: | 
  TODO
fields:
  - no label: reconsider_and_modify_point
    input type: area
    rows: 6
---
id: explanation
question: |
  Explain the reasons why the court should [modify/reconsider] its decision. 
subquestion: | 
  The applicable appellate court rule requires that you "state with particularity the points of law or fact which it is contended the court has overlooked or misapprehended and shall contain such argument in support of the motion as the movant desires to present."  To comply with that rule, explain the reasons why the court should [modify/reconsider] its decision including citations to the record appendix (for points of fact) and cases, statutes and regulations (for points of law).
fields:
  - no label: explanation 
    input type: area
    rows: 6
---
id: method of service
question: |
  How will you deliver the required copies of the motion, memorandum, and supporting materials to the plaintiffs' attorney(s)?
subquestion: |
  You are required to provide a copy of this motion, memorandum, and supporting materials to the plaintiffs' attorney(s).
  
  If the plaintiff does not have an attorney, you are required to serve a copy on the self-represented plaintiff.  
  
  You should not provide a copy of your Affidavit of Indigency, if any, to anyone except the Appeals Court.  
field: method_of_service
dropdown:
  - Efile and serve (efilema.com): efile and serve (efilema.com)
  - Email: email
  - Mail: mail
  - Hand delivery: hand delivery
---
id: parties to be served
question: |
  List the name and address (or email address) of each attorney or self-represented party that you will deliver copies of your motion, memorandum, and supporting materials to.
subquestion: |
  If you are serving more than one attorney or party, you may list more than one.
fields:
  - no label: parties_to_be_served
    input type: area 
    rows: 6
---
id: service date
question: |
  When will you deliver copies of your motion, memorandum, and supporting materials to the plaintiffs' attorney(s)?
subquestion: |
  You are required to provide a copy of this motion, memorandum, and supporting materials to the plaintiffs' attorney(s).
fields:
  - Date: service_date
    datatype: date  
---
progress: 100
id: download
event: Motion_to_Reconsider_Template_download
question: |
  Your form is ready to download.
subquestion: |
  Thank you ${users}. Your form is ready to download and deliver.
  
  Below is a preview of your form.
  
  ${ al_user_bundle.download_list_html() }
  
  ${ al_user_bundle.send_button_html() }
---
objects:
  - Motion_to_Reconsider_Template_attachment: ALDocument.using(title="Motion to reconsider template", filename="Motion_to_Reconsider_Template", enabled=True, has_addendum=False)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[Motion_to_Reconsider_Template_attachment], filename="Motion_to_Reconsider_Template.pdf", title="All forms to download for your records")
  - al_court_bundle: ALDocumentBundle.using(elements=[Motion_to_Reconsider_Template_attachment], filename="Motion_to_Reconsider_Template.pdf", title="All forms to download for your records")
---
attachment:
    variable name: Motion_to_Reconsider_Template_attachment[i]
    name: Motion to reconsider template
    filename: Motion-to-reconsider-template
    docx template file: Motion_to_Reconsider_Template.docx
---
id: Motion_to_Reconsider_Template review screen
event: review_Motion_to_Reconsider_Template
question: |
  Review Screen
subquestion: |
  Edit your answers below
review: 
  - Edit: parties_to_be_served
    button: |
      **Parties to be served**:
      > ${ single_paragraph(parties_to_be_served) }
  - Edit: appeals_court_docket_number
    button: |
      **Appeals court docket number**:
      ${ appeals_court_docket_number }
  - Edit: method_of_service
    button: |
      **Method of service**:
      ${ method_of_service }
  - Edit: trial_court_docket_number
    button: |
      **Trial court docket number**:
      ${ trial_court_docket_number }
  - Edit: service_date
    button: |
      **Date of service**:
      ${ service_date }
  - Edit: trial_court
    button: |
      **trial_court**:
      ${ trial_court }
  - Edit: users[0].signature
    button: |
      **users[0].signature**:
      ${ users[0].signature }
  - Edit: defendants[0].name.first
    button: |
      **defendants**

      % for my_var in defendants:
        * ${ my_var }
      % endfor
    # NOTE: a question block with 'defendants.revisit'
    # lets the user edit all of the items at once
  - Edit: plaintiffs[0].name.first
    button: |
      **plaintiffs**

      % for my_var in plaintiffs:
        * ${ my_var }
      % endfor
    # NOTE: a question block with 'plaintiffs.revisit'
    # lets the user edit all of the items at once
